<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:EasySave.GUI.ViewModels"
        x:Class="EasySave.GUI.Views.ConfigurationWindow"
        x:DataType="vm:ConfigurationViewModel"
        Title="{Binding LanguageHelperInstance.ConfigurationWindowTitle}"
        Width="400" Height="500"
        Background="White">
  
  <Window.DataContext>
    <vm:ConfigurationViewModel/>
  </Window.DataContext>
  
  <Border Padding="20" Background="#FAFAFA" CornerRadius="10" BorderBrush="#3498db" BorderThickness="2">
    <StackPanel Spacing="15">
      
      <Border Background="#3498db" CornerRadius="6" Padding="10">
        <TextBlock Text="{Binding LanguageHelperInstance.ConfigurationWindowTitle}" 
                   FontSize="22" 
                   FontWeight="Bold" 
                   Foreground="White" 
                   HorizontalAlignment="Center"/>
      </Border>
      
      <!-- Champ pour le format du log (garder tel quel) -->
      <StackPanel Orientation="Vertical" Spacing="5">
        <TextBlock Text="{Binding LanguageHelperInstance.LogFormatLabel}" FontWeight="SemiBold" Foreground="#2c3e50"/>
        <ComboBox SelectedItem="{Binding LogFormat}" 
                  ItemsSource="{Binding LogFormatOptions}" 
                  Background="#ecf0f1" Foreground="#2c3e50"/>
      </StackPanel>
      
      <StackPanel Orientation="Vertical" Spacing="5">
        <TextBlock Text="{Binding LanguageHelperInstance.BusinessSoftwareLabel}" FontWeight="SemiBold" Foreground="#2c3e50"/>
        <TextBox Text="{Binding BusinessSoftware}" Background="#ecf0f1" Foreground="#2c3e50"/>
      </StackPanel>
      
      <!-- Champ pour le rÃ©pertoire des logs -->
      <StackPanel Orientation="Vertical" Spacing="5">
        <TextBlock Text="{Binding LanguageHelperInstance.LogDirectoryLabel}" FontWeight="SemiBold"/>
        <Grid ColumnDefinitions="*,Auto">
          <TextBox Text="{Binding LogDirectory}" 
                   IsReadOnly="True" 
                   Background="#ecf0f1" Foreground="#2c3e50" 
                   Grid.Column="0"/>
          <Button Content="{Binding LanguageHelperInstance.BrowseButton}" 
                  Command="{Binding ChooseLogDirectoryCommand}" 
                  CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"
                  Grid.Column="1" Margin="5,0,0,0"
                  Background="#2ecc71" Foreground="White"/>
        </Grid>
      </StackPanel>
      
      <StackPanel Orientation="Vertical" Spacing="5">
        <TextBlock Text="{Binding LanguageHelperInstance.ExtensionsToEncryptLabel}" FontWeight="SemiBold" Foreground="#2c3e50"/>
        <ListBox ItemsSource="{Binding EncryptionExtensions}" 
                 Height="80" Background="#ecf0f1" Foreground="#2c3e50"/>
      </StackPanel>
      
      <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="10">
        <Button Content="{Binding LanguageHelperInstance.ButtonSave}" 
                Command="{Binding SaveCommand}" 
                CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"
                Width="100" Background="#2ecc71" Foreground="White"/>
        <Button Content="{Binding LanguageHelperInstance.ButtonCancel}" 
                Command="{Binding CloseCommand}" 
                CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"
                Width="80" Background="#e74c3c" Foreground="White"/>
      </StackPanel>
      
    </StackPanel>
  </Border>
</Window>
